<h1>New Sketch</h1>

<%= form_with(model: @sketch, local: true, html: { id: "new-sketch-form", data: { controller: "canvas-editor", canvas_editor_target: "form" } }) do |form| %>
  <section>
    <canvas id="sketch-canvas" width="800" height="600" style="border:1px solid #ccc" data-canvas-editor-target="canvas"></canvas>
  </section>
  <nav style="margin: 10px 0;">
    <button type="button" id="draw-btn" data-canvas-editor-target="drawBtn">Draw</button>
    <button type="button" id="text-btn" data-canvas-editor-target="textBtn">Text</button>
    <input type="file" id="image-upload" accept="image/*" style="display:inline" data-canvas-editor-target="imageUpload"/>
    <button type="button" id="clear-btn" data-canvas-editor-target="clearBtn">Clear</button>
  </nav>
  <%= form.hidden_field :image_data, id: "image-data-field", data: { canvas_editor_target: "imageDataField" } %>
  <div>
    <%= form.submit "Generate Thumbnail" %>
  </div>
<% end %>
<div style="margin-top: 20px;">
  <%= link_to "View All Thumbnails", sketches_path %> |
  <%= link_to "Back to Home", root_path %>
</div>